$(document).ready(function () {
    $.ajaxSetup({
        beforeSend: function (c, b) {
            function a(d) {
                var h = null;
                if (document.cookie && document.cookie != "") {
                    var g = document.cookie.split(";");
                    for (var f = 0; f < g.length; f++) {
                        var e = jQuery.trim(g[f]);
                        if (e.substring(0, d.length + 1) == (d + "=")) {
                            h = decodeURIComponent(e.substring(d.length + 1));
                            break
                        }
                    }
                }
                return h
            }
            if (!(/^http:.*/.test(b.url) || /^https:.*/.test(b.url))) {
                c.setRequestHeader("X-CSRFToken", a("csrftoken"))
            }
        }
    })
});